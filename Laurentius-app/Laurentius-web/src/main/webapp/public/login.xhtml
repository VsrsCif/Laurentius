<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"  
      lang="#{localeManager.language}"
      >

    <h:head>
        <title>Laurentius - Login page</title>
        <link href="public/login.css" rel="stylesheet" />

    </h:head>
    <f:view locale="#{localeManager.locale}" transient="true">
        <h:body class="LoginPage">


            
            <center>  
                  <div class="LoginTitle"></div> 
                <h:form id="loginForm">     
                    <p:panel id="loginPanel" header="#{msg['Login']}" style="width:600px">
                        <p:fragment autoUpdate="true">

                            <p:panelGrid   styleClass="panelGridNoBorder">
                                <p:row>
                                    <p:column><p:outputLabel for="username" value="#{msg['Username']}"/></p:column>
                                    <p:column><p:inputText id="username" value="#{loginManager.username}" 
                                                           required="true" 
                                                           requiredMessage="#{msg['EnterUsername']}" 
                                                           /></p:column>
                                    <p:column><h:message for="username"/></p:column>
                                </p:row>
                                <p:row>
                                    <p:column><p:outputLabel for="password" value="#{msg['Password']}"/></p:column>
                                    <p:column><p:password id="password" value="#{loginManager.password}"
                                                          required="true"
                                                          requiredMessage="#{msg['EnterPassword']}" 
                                                          /></p:column>
                                    <p:column><h:message for="password"/></p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="3">
                                        <div align='right' style="width: 100%">
                                            <p:commandButton  id="loginButton" widgetVar="loginButton" value="#{msg['Login']}"
                                                              actionListener="#{loginManager.login()}"
                                                              class="image-Button" icon="ui-icon-size-22 ui-icon-svg-ok"
                                                              onclick="PF('loginButton').disable()"
                                                              />
                                        </div>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column colspan="3"><h:messages globalOnly="true"/></p:column>
                                </p:row>
                            </p:panelGrid>
                            <p:blockUI block=":loginForm:loginPanel" 
                                       trigger=":loginForm:loginButton"
                                       >
                                <h:graphicImage value="#{resource['images:/ajax-progress.gif']}"  /> 
                                <h:outputText value="#{msg['Login']}" />
                            </p:blockUI>


                        </p:fragment>
                        <div style="float:right;color: gray; margin-top: 30px;font-size:12px">
                            <p:outputLabel value="Laurentius"/>  #{msg['Version']}: <p:outputLabel value="#{ApplicationData.buildVersion}" />                        
                        </div>
                    </p:panel> 
                </h:form>
            </center>


        </h:body>
    </f:view>
</html>